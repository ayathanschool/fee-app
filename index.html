<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fee Collection</title>
    <!-- We're removing the CSP meta tag as GitHub Pages provides its own CSP headers -->
    <!-- External resources are loaded within allowed domains -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./custom.css">
    <link rel="icon" type="image/png" href="./icon-192.png" />
    <link rel="apple-touch-icon" href="./icon-192.png" />
    <link rel="manifest" href="./manifest.webmanifest" />
    <meta name="theme-color" content="#2563eb" />
    <!-- GitHub Pages SPA redirect -->
    <script type="text/javascript">
      // Redirect for GitHub Pages SPA routing
      (function() {
        // Don't run this script on localhost or in development
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
          return;
        }
        
        // Check if we need to redirect (we came from a 404 page)
        const redirectSegment = '?/';
        const l = window.location;
        const query = l.search;
        
        if (query.indexOf(redirectSegment) !== -1) {
          // Extract the path from the query
          const path = query.split(redirectSegment)[1].split('&')[0];
          
          // Reconstruct any remaining query parameters
          let remainingQuery = '';
          if (query.indexOf('&') !== -1) {
            remainingQuery = '?' + query
              .split('&')
              .slice(1)
              .join('&')
              .replace(/~and~/g, '&');
          }
          
          // Perform the redirect using history API
          const newPath = l.pathname + path + remainingQuery + l.hash;
          window.history.replaceState(null, null, newPath);
        }
      })();
    </script>
  </head>
  <body class="bg-gray-50">
    <div id="root"></div>
    <!-- When built by Vite, this will be replaced with the correct path -->
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
